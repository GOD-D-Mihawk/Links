<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TemC+ Website Launcher</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f5f5f5;
    }
    h1, h2 {
      color: #333;
    }
    /* Grid container for links (cards) in each section */
    .grid-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 15px;
    }
    .section {
      margin-bottom: 40px;
    }
    .card {
      background-color: #fff;
      border: 1px solid #ddd;
      border-radius: 6px;
      padding: 15px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    .buttons {
      margin-top: 10px;
    }
    /* Style the anchor as a button */
    .open-btn {
      display: inline-block;
      text-decoration: none;
      background-color: #007bff;
      color: white;
      padding: 8px 12px;
      border-radius: 4px;
      margin-right: 10px;
      font-size: 14px;
    }
    /* Style for copy link button */
    button.copy-btn {
      background-color: #28a745;
      color: white;
      padding: 8px 12px;
      font-size: 14px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    .metrics {
      margin-top: 10px;
      font-size: 0.9em;
      color: #555;
    }
  </style>
</head>
<body>
  <h1>TemC+ Website Launcher</h1>
  
  <!-- Pre-Production Section -->
  <div class="section">
    <h2>Pre-Production Links (Incognito Mode Recommended)</h2>
    <div id="preprodList" class="grid-container"></div>
  </div>
  
  <!-- Production Section -->
  <div class="section">
    <h2>Production Links (Normal Mode)</h2>
    <div id="prodList" class="grid-container"></div>
  </div>
  
  <script>
    // Pre-production links (incognito mode recommended)
    const preprodWebsites = [
      { id: 1, title: 'New Caledonie (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/nc/', mode: 'incognito', description: 'Pre-production TemC+ app for New Caledonie.' },
      { id: 2, title: 'Angola (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/ao/', mode: 'incognito', description: 'Pre-production TemC+ app for Angola.' },
      { id: 3, title: 'Cambodia (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/kh/', mode: 'incognito', description: 'Pre-production TemC+ app for Cambodia.' },
      { id: 4, title: 'Egypt (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/eg/', mode: 'incognito', description: 'Pre-production TemC+ app for Egypt.' },
      { id: 5, title: 'Guinea Equatorial (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/gq/', mode: 'incognito', description: 'Pre-production TemC+ app for Guinea Equatorial.' },
      { id: 6, title: 'Fiji (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/fj/', mode: 'incognito', description: 'Pre-production TemC+ app for Fiji.' },
      { id: 7, title: 'French Polynesia (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/pf/', mode: 'incognito', description: 'Pre-production TemC+ app for French Polynesia.' },
      { id: 8, title: 'Jordan (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/jo/', mode: 'incognito', description: 'Pre-production TemC+ app for Jordan.' },
      { id: 9, title: 'Mali (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/ml/', mode: 'incognito', description: 'Pre-production TemC+ app for Mali.' },
      { id: 10, title: 'Kenya (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/ke/', mode: 'incognito', description: 'Pre-production TemC+ app for Kenya.' },
      { id: 11, title: 'Madagascar (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/mg/', mode: 'incognito', description: 'Pre-production TemC+ app for Madagascar.' },
      { id: 12, title: 'Mauritius (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/mu/', mode: 'incognito', description: 'Pre-production TemC+ app for Mauritius.' },
      { id: 13, title: 'Malawi (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/mw/', mode: 'incognito', description: 'Pre-production TemC+ app for Malawi.' },
      { id: 14, title: 'PNG (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/pg/', mode: 'incognito', description: 'Pre-production TemC+ app for PNG.' },
      { id: 15, title: 'Senegal (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/sn/', mode: 'incognito', description: 'Pre-production TemC+ app for Senegal.' },
      { id: 16, title: 'Tanzania (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/tz/', mode: 'incognito', description: 'Pre-production TemC+ app for Tanzania.' },
      { id: 17, title: 'Togo (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/tg/', mode: 'incognito', description: 'Pre-production TemC+ app for Togo.' },
      { id: 18, title: 'Uganda (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/ug/', mode: 'incognito', description: 'Pre-production TemC+ app for Uganda.' },
      { id: 19, title: 'Zambia (Pre-Production)', url: 'https://bomobilitybusinesspp.totalenergies.com/zm/', mode: 'incognito', description: 'Pre-production TemC+ app for Zambia.' }
    ];
    
    // Production links (normal mode)
    const prodWebsites = [
      { id: 101, title: 'New Caledonie (Production)', url: 'https://bomobilitybusiness.totalenergies.com/nc/', mode: 'normal', description: 'Production TemC+ app for New Caledonie.' },
      { id: 102, title: 'Angola (Production)', url: 'https://bomobilitybusiness.totalenergies.com/ao/', mode: 'normal', description: 'Production TemC+ app for Angola.' },
      { id: 103, title: 'Cambodia (Production)', url: 'https://bomobilitybusiness.totalenergies.com/kh/', mode: 'normal', description: 'Production TemC+ app for Cambodia.' },
      { id: 104, title: 'Egypt (Production)', url: 'https://bomobilitybusiness.totalenergies.com/eg/', mode: 'normal', description: 'Production TemC+ app for Egypt.' },
      { id: 105, title: 'Guinea Equatorial (Production)', url: 'https://bomobilitybusiness.totalenergies.com/gq/', mode: 'normal', description: 'Production TemC+ app for Guinea Equatorial.' },
      { id: 106, title: 'Fiji (Production)', url: 'https://bomobilitybusiness.totalenergies.com/fj/', mode: 'normal', description: 'Production TemC+ app for Fiji.' },
      { id: 107, title: 'French Polynesia (Production)', url: 'https://bomobilitybusiness.totalenergies.com/pf/', mode: 'normal', description: 'Production TemC+ app for French Polynesia.' },
      { id: 108, title: 'Jordan (Production)', url: 'https://bomobilitybusiness.totalenergies.com/jo/', mode: 'normal', description: 'Production TemC+ app for Jordan.' },
      { id: 109, title: 'Mali (Production)', url: 'https://bomobilitybusiness.totalenergies.com/ml/', mode: 'normal', description: 'Production TemC+ app for Mali.' },
      { id: 110, title: 'Kenya (Production)', url: 'https://bomobilitybusiness.totalenergies.com/ke/', mode: 'normal', description: 'Production TemC+ app for Kenya.' },
      { id: 111, title: 'Madagascar (Production)', url: 'https://bomobilitybusiness.totalenergies.com/mg/', mode: 'normal', description: 'Production TemC+ app for Madagascar.' },
      { id: 112, title: 'Mauritius (Production)', url: 'https://bomobilitybusiness.totalenergies.com/mu/', mode: 'normal', description: 'Production TemC+ app for Mauritius.' },
      { id: 113, title: 'Malawi (Production)', url: 'https://bomobilitybusiness.totalenergies.com/mw/', mode: 'normal', description: 'Production TemC+ app for Malawi.' },
      { id: 114, title: 'PNG (Production)', url: 'https://bomobilitybusiness.totalenergies.com/pg/', mode: 'normal', description: 'Production TemC+ app for PNG.' },
      { id: 115, title: 'Senegal (Production)', url: 'https://bomobilitybusiness.totalenergies.com/sn/', mode: 'normal', description: 'Production TemC+ app for Senegal.' },
      { id: 116, title: 'Tanzania (Production)', url: 'https://bomobilitybusiness.totalenergies.com/tz/', mode: 'normal', description: 'Production TemC+ app for Tanzania.' },
      { id: 117, title: 'Togo (Production)', url: 'https://bomobilitybusiness.totalenergies.com/tg/', mode: 'normal', description: 'Production TemC+ app for Togo.' },
      { id: 118, title: 'Uganda (Production)', url: 'https://bomobilitybusiness.totalenergies.com/ug/', mode: 'normal', description: 'Production TemC+ app for Uganda.' },
      { id: 119, title: 'Zambia (Production)', url: 'https://bomobilitybusiness.totalenergies.com/zm/', mode: 'normal', description: 'Production TemC+ app for Zambia.' }
    ];
    
    // Load metrics from localStorage for a given id.
    function loadStats(id) {
      const stats = localStorage.getItem('websiteStats_' + id);
      return stats ? JSON.parse(stats) : { count: 0, lastOpened: 'Never' };
    }
    
    // Update and save metrics for a given id.
    function updateStats(id) {
      const stats = loadStats(id);
      stats.count++;
      stats.lastOpened = new Date().toLocaleString();
      localStorage.setItem('websiteStats_' + id, JSON.stringify(stats));
      return stats;
    }
    
    // Copy text to clipboard.
    async function copyToClipboard(text) {
      try {
        await navigator.clipboard.writeText(text);
        alert('Link copied to clipboard: ' + text);
      } catch (err) {
        prompt('Copy the link:', text);
      }
    }
    
    // Handle left-click on an open link: update metrics and alert for incognito links.
    function handleLinkClick(event, site) {
      // Check if it's a left click only.
      if (event.button === 0) {
        const updatedStats = updateStats(site.id);
        document.getElementById('metrics-' + site.id).innerText =
          'Times Opened: ' + updatedStats.count + ' | Last Opened: ' + updatedStats.lastOpened;
    
        // For incognito-mode links, prevent navigation and show instructions.
        if (site.mode === 'incognito') {
          event.preventDefault();
          alert('This link is intended for incognito mode.\n\nRight-click the link and choose "Open link in incognito window", or copy the link and open it manually.');
        }
      }
    }
    
    // Render website cards into the specified container.
    function renderCards(sites, containerId) {
      const container = document.getElementById(containerId);
      container.innerHTML = '';
      sites.forEach(site => {
        const stats = loadStats(site.id);
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <h3>${site.title}</h3>
          <p>${site.description}</p>
          <div class="buttons">
            <a 
              href="${site.url}" 
              target="_blank" 
              class="open-btn"
              id="open-${site.id}"
            >Open Link</a>
            <button class="copy-btn" onclick='copyToClipboard("${site.url}")'>Copy Link</button>
          </div>
          <div class="metrics" id="metrics-${site.id}">
            Times Opened: ${stats.count} | Last Opened: ${stats.lastOpened}
          </div>
        `;
        container.appendChild(card);
    
        // Add an event listener to update metrics and handle incognito instruction.
        const openLinkAnchor = document.getElementById('open-' + site.id);
        openLinkAnchor.addEventListener('mousedown', function(event) {
          handleLinkClick(event, site);
        });
      });
    }
    
    // Render both pre-production and production sections.
    renderCards(preprodWebsites, 'preprodList');
    renderCards(prodWebsites, 'prodList');
  </script>
</body>
</html>
